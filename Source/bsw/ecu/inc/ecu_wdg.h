/******************************************************************************
 * (C) Copyright 2020 Anhui Domain Compute Co.Ltd
 * FILE NAME:    ecu_wdg.h
 * DESCRIPTION:
 * 
 * DATE BEGUN:   2021/07/07
 * BY:           feifei.xu
 * PRODUCT NAME:
 * APPLICATION:
 * TARGET H/W:
 * DOC REF:
 *****************************************************************************
 */

#ifndef __ECU_WDG_H__
#define __ECU_WDG_H__

/*****************************************************************************
**#include 
*****************************************************************************/
#include "type.h"
#include "rtos_taskinit.h"

/*****************************************************************************
**  typedef
*****************************************************************************/


/*****************************************************************************
** Constant Macro Definition
*****************************************************************************/

#define INBALID_FEED_WTD  (UINT8)(0xFF)

#define CAN_FEED_WTD      (0)
#define DTC_FEED_WTD      (CAN_FEED_WTD+1)
#define BLE_FEED_WTD      (DTC_FEED_WTD+1)
#define DCPD_FEED_WTD     (BLE_FEED_WTD+1)
#define APP_FEED_WTD      (DCPD_FEED_WTD+1)
#define AUX_FEED_WTD      (APP_FEED_WTD+1)
#define MAX_FEED_WTD      (AUX_FEED_WTD+1)

#define TASK_FEED_WTD   ( ((0x01)<<CAN_FEED_WTD) \
                        | ((0x01)<<DTC_FEED_WTD) \
                        | ((0x01)<<BLE_FEED_WTD) \
                        | ((0x01)<<DCPD_FEED_WTD) \
                        | ((0x01)<<APP_FEED_WTD) \
                        | ((0x01)<<AUX_FEED_WTD))

#define WDT_FEED_CHECK_PRD   20000U
#define WDT_FEED_CHECK_CNT   (WDT_FEED_CHECK_PRD/SYS_MGR_PRD_MS)
/*****************************************************************************
** System Macro Definition
*****************************************************************************/


/*****************************************************************************
** Action Macro Definition
*****************************************************************************/


/*****************************************************************************
** Config Macro Definition
*****************************************************************************/


/*****************************************************************************
** Task Macro Definition
*****************************************************************************/


/*****************************************************************************
** Variables
*****************************************************************************/


/*****************************************************************************
** Constants
*****************************************************************************/


/*****************************************************************************
** Function prototypeseb
*****************************************************************************/
INT32 ApiWdtHwtEnable(void);
INT32 ApiWdtHwtDisable(void);
void ApiWdtHwtFeedDog(void);
UINT8 ApiTaskWtdCheck(void);
void ApiTaskFeedWtd(UINT8 u8FeedWtd);
/*****************************************************************************
** other
*****************************************************************************/


/****************************************************************************/

#endif	//__ECU_WDG_H__

/*****************************************************************************
** End File
*****************************************************************************/

